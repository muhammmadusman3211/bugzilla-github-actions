{"ast":null,"code":"import axios from \"axios\";\nconst API = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL\n});\nAPI.interceptors.request.use(req => {\n  console.log(\"req inside intercep[tor\", req);\n\n  if (localStorage.getItem(\"token\")) {\n    req.headers.authorization = `Bearer ${JSON.parse(localStorage.getItem(\"token\"))}`;\n  }\n\n  if (req.url === \"manager/create-bug\") req.headers[\"Content-Type\"] = \"multipart/form-data\";\n  return req;\n});\nexport const AuthApi = (url, data) => {\n  return API.post(url, {\n    email: data.email,\n    password: data.password,\n    role: data.role\n  }).then(response => response).catch(err => console.log(\"err\", err));\n};\n_c = AuthApi;\nexport const AuthLoginApi = (url, data) => {\n  return API.post(url, {\n    email: data.email,\n    role: data.role\n  }).then(response => response).catch(err => console.log(\"err\", err));\n};\n_c2 = AuthLoginApi;\nexport const LogoutApi = url => {\n  return API.post(url).then(response => response).catch(err => console.log(\"err\", err));\n};\n_c3 = LogoutApi;\nexport const CreateBugApi = (url, data) => {\n  API.interceptors.request.use(req => {\n    if (localStorage.getItem(\"token\")) {\n      req.headers.content = `Bearer ${JSON.parse(localStorage.getItem(\"token\"))}`;\n    }\n\n    return req;\n  });\n  return API.post(url, data, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  }).then(response => response).catch(err => console.log(\"err\", err));\n};\n_c4 = CreateBugApi;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"AuthApi\");\n$RefreshReg$(_c2, \"AuthLoginApi\");\n$RefreshReg$(_c3, \"LogoutApi\");\n$RefreshReg$(_c4, \"CreateBugApi\");","map":{"version":3,"names":["axios","API","create","baseURL","process","env","REACT_APP_BASE_URL","interceptors","request","use","req","console","log","localStorage","getItem","headers","authorization","JSON","parse","url","AuthApi","data","post","email","password","role","then","response","catch","err","AuthLoginApi","LogoutApi","CreateBugApi","content"],"sources":["/home/dev/Documents/bugzilla/client/src/api/api.js"],"sourcesContent":["import axios from \"axios\"\n\nconst API = axios.create({ baseURL: process.env.REACT_APP_BASE_URL })\n\nAPI.interceptors.request.use((req) => {\n  console.log(\"req inside intercep[tor\", req)\n  if (localStorage.getItem(\"token\")) {\n    req.headers.authorization = `Bearer ${JSON.parse(\n      localStorage.getItem(\"token\")\n    )}`\n  }\n\n  if (req.url === \"manager/create-bug\")\n    req.headers[\"Content-Type\"] = \"multipart/form-data\"\n\n  return req\n})\nexport const AuthApi = (url, data) => {\n  return API.post(url, {\n    email: data.email,\n    password: data.password,\n    role: data.role,\n  })\n    .then((response) => response)\n    .catch((err) => console.log(\"err\", err))\n}\n\nexport const AuthLoginApi = (url, data) => {\n  return API.post(url, {\n    email: data.email,\n    role: data.role,\n  })\n    .then((response) => response)\n    .catch((err) => console.log(\"err\", err))\n}\n\nexport const LogoutApi = (url) => {\n  return API.post(url)\n    .then((response) => response)\n    .catch((err) => console.log(\"err\", err))\n}\n\nexport const CreateBugApi = (url, data) => {\n  API.interceptors.request.use((req) => {\n    if (localStorage.getItem(\"token\")) {\n      req.headers.content = `Bearer ${JSON.parse(\n        localStorage.getItem(\"token\")\n      )}`\n    }\n\n    return req\n  })\n  return API.post(url, data, {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  })\n    .then((response) => response)\n    .catch((err) => console.log(\"err\", err))\n}\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAN,CAAa;EAAEC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAAvB,CAAb,CAAZ;AAEAL,GAAG,CAACM,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8BC,GAAD,IAAS;EACpCC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCF,GAAvC;;EACA,IAAIG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;IACjCJ,GAAG,CAACK,OAAJ,CAAYC,aAAZ,GAA6B,UAASC,IAAI,CAACC,KAAL,CACpCL,YAAY,CAACC,OAAb,CAAqB,OAArB,CADoC,CAEpC,EAFF;EAGD;;EAED,IAAIJ,GAAG,CAACS,GAAJ,KAAY,oBAAhB,EACET,GAAG,CAACK,OAAJ,CAAY,cAAZ,IAA8B,qBAA9B;EAEF,OAAOL,GAAP;AACD,CAZD;AAaA,OAAO,MAAMU,OAAO,GAAG,CAACD,GAAD,EAAME,IAAN,KAAe;EACpC,OAAOpB,GAAG,CAACqB,IAAJ,CAASH,GAAT,EAAc;IACnBI,KAAK,EAAEF,IAAI,CAACE,KADO;IAEnBC,QAAQ,EAAEH,IAAI,CAACG,QAFI;IAGnBC,IAAI,EAAEJ,IAAI,CAACI;EAHQ,CAAd,EAKJC,IALI,CAKEC,QAAD,IAAcA,QALf,EAMJC,KANI,CAMGC,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,GAAnB,CANX,CAAP;AAOD,CARM;KAAMT,O;AAUb,OAAO,MAAMU,YAAY,GAAG,CAACX,GAAD,EAAME,IAAN,KAAe;EACzC,OAAOpB,GAAG,CAACqB,IAAJ,CAASH,GAAT,EAAc;IACnBI,KAAK,EAAEF,IAAI,CAACE,KADO;IAEnBE,IAAI,EAAEJ,IAAI,CAACI;EAFQ,CAAd,EAIJC,IAJI,CAIEC,QAAD,IAAcA,QAJf,EAKJC,KALI,CAKGC,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,GAAnB,CALX,CAAP;AAMD,CAPM;MAAMC,Y;AASb,OAAO,MAAMC,SAAS,GAAIZ,GAAD,IAAS;EAChC,OAAOlB,GAAG,CAACqB,IAAJ,CAASH,GAAT,EACJO,IADI,CACEC,QAAD,IAAcA,QADf,EAEJC,KAFI,CAEGC,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,GAAnB,CAFX,CAAP;AAGD,CAJM;MAAME,S;AAMb,OAAO,MAAMC,YAAY,GAAG,CAACb,GAAD,EAAME,IAAN,KAAe;EACzCpB,GAAG,CAACM,YAAJ,CAAiBC,OAAjB,CAAyBC,GAAzB,CAA8BC,GAAD,IAAS;IACpC,IAAIG,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;MACjCJ,GAAG,CAACK,OAAJ,CAAYkB,OAAZ,GAAuB,UAAShB,IAAI,CAACC,KAAL,CAC9BL,YAAY,CAACC,OAAb,CAAqB,OAArB,CAD8B,CAE9B,EAFF;IAGD;;IAED,OAAOJ,GAAP;EACD,CARD;EASA,OAAOT,GAAG,CAACqB,IAAJ,CAASH,GAAT,EAAcE,IAAd,EAAoB;IACzBN,OAAO,EAAE;MAAE,gBAAgB;IAAlB;EADgB,CAApB,EAGJW,IAHI,CAGEC,QAAD,IAAcA,QAHf,EAIJC,KAJI,CAIGC,GAAD,IAASlB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,GAAnB,CAJX,CAAP;AAKD,CAfM;MAAMG,Y"},"metadata":{},"sourceType":"module"}