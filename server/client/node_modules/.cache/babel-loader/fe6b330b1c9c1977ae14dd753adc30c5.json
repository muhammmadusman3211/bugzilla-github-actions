{"ast":null,"code":"import _objectSpread from\"/home/dev/Documents/bugzilla/server/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/dev/Documents/bugzilla/server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import{useDispatch}from\"react-redux\";import*as yup from\"yup\";import{signUpUser}from\"../redux/actions/userActions\";import{useNavigate}from\"react-router-dom\";import{useFormik}from\"formik\";import{Spinner}from\"../components\";import styles from\"../assets/scss/registration.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registrations=function Registrations(){var _formik$errors,_formik$errors2,_formik$errors3;var _useState=useState({name:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",role:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var roleRef=useRef();var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),clicked=_useState4[0],setClicked=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var dispatch=useDispatch();var navigate=useNavigate();var url=process.env.REACT_APP_REGISTRATION_URL;var formik=useFormik({initialValues:{name:\"\",email:\"\",password:\"\",passwordConfirmation:\"\",role:\"\"},validationSchema:yup.object({name:yup.string().required(\"Name is Required\"),email:yup.string().email(\"Invalid Email Address\").required(\"Email is required\"),password:yup.string().required(\"Password is required\").min(5,\"Length should be greater than 5\"),passwordConfirmation:yup.string().oneOf([yup.ref(\"password\"),null],\"Passwords must match\")}),onSubmit:function onSubmit(values){setClicked(true);setState(_objectSpread(_objectSpread({},state),{},{name:values.name,email:values.email,password:values.password,passwordConfirmation:values.passwordConfirmation,role:roleRef.current.value}));}});useEffect(function(){if(clicked){dispatch(signUpUser(url,state,setLoading,navigate));setLoading(true);}},[clicked,state,url,dispatch,navigate]);return loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(\"form\",{className:styles.registrationForm,onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"name\",name:\"name\",placeholder:\"Your Name\",onChange:formik.handleChange,value:formik.values.name}),formik.errors.name&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.name}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",onChange:formik.handleChange,value:formik.values.email}),formik.errors.name&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.email}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:formik.handleChange,value:formik.values.password}),((_formik$errors=formik.errors)===null||_formik$errors===void 0?void 0:_formik$errors.password)&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.password}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"passwordConfirmation\",placeholder:\"Password Confirmation\",onChange:formik.handleChange,value:formik.values.passwordConfirmation}),((_formik$errors2=formik.errors)===null||_formik$errors2===void 0?void 0:_formik$errors2.passwordConfirmation)&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.passwordConfirmation}),/*#__PURE__*/_jsxs(\"select\",{name:\"roles\",ref:roleRef,onChange:formik.handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"manager\",children:\"Manager\"}),/*#__PURE__*/_jsx(\"option\",{value:\"developer\",children:\"Developer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qa\",children:\"QA\"})]}),((_formik$errors3=formik.errors)===null||_formik$errors3===void 0?void 0:_formik$errors3.role)&&/*#__PURE__*/_jsx(\"p\",{children:formik.errors.role}),/*#__PURE__*/_jsx(\"button\",{className:styles.submitButton,type:\"submit\",children:\"Submit\"})]});};export default Registrations;","map":{"version":3,"names":["React","useState","useRef","useEffect","useDispatch","yup","signUpUser","useNavigate","useFormik","Spinner","styles","Registrations","name","email","password","passwordConfirmation","role","state","setState","roleRef","clicked","setClicked","loading","setLoading","dispatch","navigate","url","process","env","REACT_APP_REGISTRATION_URL","formik","initialValues","validationSchema","object","string","required","min","oneOf","ref","onSubmit","values","current","value","registrationForm","handleSubmit","handleChange","errors","submitButton"],"sources":["/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\"\nimport { useDispatch } from \"react-redux\"\nimport * as yup from \"yup\"\n\nimport { signUpUser } from \"../redux/actions/userActions\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useFormik } from \"formik\"\nimport { Spinner } from \"../components\"\n\nimport styles from \"../assets/scss/registration.module.css\"\n\nconst Registrations = () => {\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role: \"\",\n  })\n  const roleRef = useRef()\n  const [clicked, setClicked] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const url = process.env.REACT_APP_REGISTRATION_URL\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      role: \"\",\n    },\n    validationSchema: yup.object({\n      name: yup.string().required(\"Name is Required\"),\n      email: yup\n        .string()\n        .email(\"Invalid Email Address\")\n        .required(\"Email is required\"),\n      password: yup\n        .string()\n        .required(\"Password is required\")\n        .min(5, \"Length should be greater than 5\"),\n      passwordConfirmation: yup\n        .string()\n        .oneOf([yup.ref(\"password\"), null], \"Passwords must match\"),\n    }),\n    onSubmit: (values) => {\n      setClicked(true)\n      setState({\n        ...state,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value,\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, state, setLoading, navigate))\n      setLoading(true)\n    }\n  }, [clicked, state, url, dispatch, navigate])\n\n  return loading ? (\n    <Spinner />\n  ) : (\n    <form className={styles.registrationForm} onSubmit={formik.handleSubmit}>\n      <input\n        type=\"name\"\n        name=\"name\"\n        placeholder=\"Your Name\"\n        onChange={formik.handleChange}\n        value={formik.values.name}\n      ></input>\n      {formik.errors.name && <p>{formik.errors.name}</p>}\n\n      <input\n        type=\"email\"\n        name=\"email\"\n        placeholder=\"Email\"\n        onChange={formik.handleChange}\n        value={formik.values.email}\n      ></input>\n      {formik.errors.name && <p>{formik.errors.email}</p>}\n      <input\n        type=\"password\"\n        name=\"password\"\n        placeholder=\"Password\"\n        onChange={formik.handleChange}\n        value={formik.values.password}\n      ></input>\n      {formik.errors?.password && <p>{formik.errors.password}</p>}\n      <input\n        type=\"password\"\n        name=\"passwordConfirmation\"\n        placeholder=\"Password Confirmation\"\n        onChange={formik.handleChange}\n        value={formik.values.passwordConfirmation}\n      ></input>\n      {formik.errors?.passwordConfirmation && (\n        <p>{formik.errors.passwordConfirmation}</p>\n      )}\n      <select name=\"roles\" ref={roleRef} onChange={formik.handleChange}>\n        <option value=\"manager\">Manager</option>\n        <option value=\"developer\">Developer</option>\n        <option value=\"qa\">QA</option>\n      </select>\n      {formik.errors?.role && <p>{formik.errors.role}</p>}\n      <button className={styles.submitButton} type=\"submit\">\n        Submit\n      </button>\n    </form>\n  )\n}\n\nexport default Registrations\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}