{"ast":null,"code":"import { SIGN_IN_USER, SIGN_UP_USER, SIGN_OUT_USER, AUTHORIZE_LOG_IN } from \"./constants\";\nimport { AUTHORIZED_ROUTE } from \"../../redux/actions/constants\";\nimport { LogoutApi, AuthLoginApi, AuthApi } from \"../../api/api\";\nexport const signUpUser = (url, data, setLoading, navigate) => async dispatch => {\n  try {\n    const user = await AuthApi(url, data);\n    dispatch({\n      type: SIGN_UP_USER,\n      user\n    });\n    setLoading(false);\n    navigate(\"/login\");\n  } catch (err) {}\n};\nexport const signInUser = (url, data, setLoading, openSnackbar) => async dispatch => {\n  try {\n    console.log(\"USER ACTIONS\");\n    const user = await AuthApi(url, data);\n    console.log(\"USER\", user);\n    localStorage.setItem(\"profile\", JSON.stringify(user.data.body));\n    localStorage.setItem(\"token\", JSON.stringify(user.data.token));\n    console.log(\"AFTER SETTING ITEM AND API CALL\");\n    setLoading(false);\n    console.log(\"AFTER SETTING STATE TO FALSE AND BEFORE SNACKBAR\");\n    openSnackbar(\"You have sucessfully Signed In\");\n    console.log(\"AFTER SETTING SNACKBAR AND BEFORE DISPATCHING ACTION\");\n    dispatch({\n      type: SIGN_IN_USER,\n      payload: user\n    });\n    console.log(\"AFTER DISPATCHING ACTION\");\n  } catch (err) {\n    openSnackbar(err);\n  }\n};\nexport const authorizeLogIn = (url, data, openSnackbar) => async dispatch => {\n  try {\n    const user = await AuthLoginApi(url, data);\n    dispatch({\n      type: AUTHORIZE_LOG_IN,\n      payload: user\n    });\n    console.log(\"message\", user.data.message);\n    if (user.data.message !== AUTHORIZED_ROUTE) openSnackbar(\"You are not Authorized\");\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const signOutUser = (url, setLoading, openSnackbar, navigate) => async dispatch => {\n  try {\n    await LogoutApi(url);\n    localStorage.removeItem(\"profile\");\n    localStorage.removeItem(\"token\");\n    dispatch({\n      type: SIGN_OUT_USER\n    });\n    setLoading(false);\n    openSnackbar(\"You have sucessfully Logged Out\");\n    navigate(\"/login\");\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};","map":{"version":3,"names":["SIGN_IN_USER","SIGN_UP_USER","SIGN_OUT_USER","AUTHORIZE_LOG_IN","AUTHORIZED_ROUTE","LogoutApi","AuthLoginApi","AuthApi","signUpUser","url","data","setLoading","navigate","dispatch","user","type","err","signInUser","openSnackbar","console","log","localStorage","setItem","JSON","stringify","body","token","payload","authorizeLogIn","message","error","signOutUser","removeItem"],"sources":["/home/dev/Documents/buddy-app/src/redux/actions/userActions.js"],"sourcesContent":["import {\n  SIGN_IN_USER,\n  SIGN_UP_USER,\n  SIGN_OUT_USER,\n  AUTHORIZE_LOG_IN,\n} from \"./constants\";\nimport { AUTHORIZED_ROUTE } from \"../../redux/actions/constants\";\nimport { LogoutApi, AuthLoginApi, AuthApi } from \"../../api/api\";\n\nexport const signUpUser =\n  (url, data, setLoading, navigate) => async (dispatch) => {\n    try {\n      const user = await AuthApi(url, data);\n\n      dispatch({ type: SIGN_UP_USER, user });\n      setLoading(false);\n      navigate(\"/login\");\n    } catch (err) {}\n  };\n\nexport const signInUser =\n  (url, data, setLoading, openSnackbar) => async (dispatch) => {\n    try {\n      console.log(\"USER ACTIONS\");\n      const user = await AuthApi(url, data);\n      console.log(\"USER\", user);\n      localStorage.setItem(\"profile\", JSON.stringify(user.data.body));\n      localStorage.setItem(\"token\", JSON.stringify(user.data.token));\n      console.log(\"AFTER SETTING ITEM AND API CALL\");\n      setLoading(false);\n      console.log(\"AFTER SETTING STATE TO FALSE AND BEFORE SNACKBAR\");\n      openSnackbar(\"You have sucessfully Signed In\");\n      console.log(\"AFTER SETTING SNACKBAR AND BEFORE DISPATCHING ACTION\");\n      dispatch({ type: SIGN_IN_USER, payload: user });\n      console.log(\"AFTER DISPATCHING ACTION\");\n    } catch (err) {\n      openSnackbar(err);\n    }\n  };\n\nexport const authorizeLogIn = (url, data, openSnackbar) => async (dispatch) => {\n  try {\n    const user = await AuthLoginApi(url, data);\n    dispatch({ type: AUTHORIZE_LOG_IN, payload: user });\n    console.log(\"message\", user.data.message);\n    if (user.data.message !== AUTHORIZED_ROUTE)\n      openSnackbar(\"You are not Authorized\");\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\n\nexport const signOutUser =\n  (url, setLoading, openSnackbar, navigate) => async (dispatch) => {\n    try {\n      await LogoutApi(url);\n      localStorage.removeItem(\"profile\");\n      localStorage.removeItem(\"token\");\n      dispatch({ type: SIGN_OUT_USER });\n      setLoading(false);\n      openSnackbar(\"You have sucessfully Logged Out\");\n      navigate(\"/login\");\n    } catch (err) {\n      console.log(err);\n      const error = err;\n    }\n  };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}