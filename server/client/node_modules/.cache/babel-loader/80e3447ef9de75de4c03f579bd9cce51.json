{"ast":null,"code":"var _jsxFileName = \"/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport { signUpUser } from \"../redux/actions/userActions\";\nimport { Header, Spinner } from \"../components\";\nimport { registrationSchema } from \"./schema\";\nimport styles from \"../assets/scss/registration.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Registrations() {\n  _s();\n\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role: \"\"\n  });\n  const loading = useSelector(state => state.user.loading);\n  const error = useSelector(state => state.user.error);\n  const roleRef = useRef();\n  const [clicked, setClicked] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const url = process.env.REACT_APP_REGISTRATION_URL;\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      role: \"\"\n    },\n    validationSchema: registrationSchema,\n    onSubmit: values => {\n      setClicked(true);\n      setFormState({ ...formState,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value\n      });\n    }\n  });\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, formState, navigate));\n    }\n  }, [clicked, formState, url, dispatch, navigate]);\n  return loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.registrationForm,\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"name\",\n        name: \"name\",\n        placeholder: \"Your Name\",\n        onChange: formik.handleChange,\n        value: formik.values.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), formik.errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        onChange: formik.handleChange,\n        value: formik.values.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), formik.errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: formik.handleChange,\n        value: formik.values.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), formik.errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"passwordConfirmation\",\n        placeholder: \"Password Confirmation\",\n        onChange: formik.handleChange,\n        value: formik.values.passwordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), formik.errors.passwordConfirmation && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.passwordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"roles\",\n        ref: roleRef,\n        onChange: formik.handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"manager\",\n          children: \"Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"developer\",\n          children: \"Developer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"qa\",\n          children: \"QA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), formik.errors.role && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.submitButton,\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Registrations, \"vaKUDUyEe+C1W9mTZZa2Zs5jDSk=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate, useFormik];\n});\n\n_c = Registrations;\nexport default Registrations;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registrations\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useDispatch","useSelector","useNavigate","useFormik","signUpUser","Header","Spinner","registrationSchema","styles","Registrations","formState","setFormState","name","email","password","passwordConfirmation","role","loading","state","user","error","roleRef","clicked","setClicked","dispatch","navigate","url","process","env","REACT_APP_REGISTRATION_URL","formik","initialValues","validationSchema","onSubmit","values","current","value","registrationForm","handleSubmit","handleChange","errors","submitButton"],"sources":["/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useFormik } from \"formik\"\n\nimport { signUpUser } from \"../redux/actions/userActions\"\nimport { Header, Spinner } from \"../components\"\nimport { registrationSchema } from \"./schema\"\n\nimport styles from \"../assets/scss/registration.module.css\"\n\nfunction Registrations() {\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role: \"\",\n  })\n\n  const loading = useSelector((state) => state.user.loading)\n  const error = useSelector((state) => state.user.error)\n\n  const roleRef = useRef()\n  const [clicked, setClicked] = useState(false)\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const url = process.env.REACT_APP_REGISTRATION_URL\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      role: \"\",\n    },\n    validationSchema: registrationSchema,\n    onSubmit: (values) => {\n      setClicked(true)\n      setFormState({\n        ...formState,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value,\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, formState, navigate))\n    }\n  }, [clicked, formState, url, dispatch, navigate])\n\n  return loading ? (\n    <Spinner />\n  ) : (\n    <>\n      <Header />\n      <form className={styles.registrationForm} onSubmit={formik.handleSubmit}>\n        <input\n          type=\"name\"\n          name=\"name\"\n          placeholder=\"Your Name\"\n          onChange={formik.handleChange}\n          value={formik.values.name}\n        />\n        {formik.errors.name && <p>{formik.errors.name}</p>}\n\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          onChange={formik.handleChange}\n          value={formik.values.email}\n        />\n\n        {formik.errors.name && <p>{formik.errors.email}</p>}\n\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          onChange={formik.handleChange}\n          value={formik.values.password}\n        />\n\n        {formik.errors.password && <p>{formik.errors.password}</p>}\n\n        <input\n          type=\"password\"\n          name=\"passwordConfirmation\"\n          placeholder=\"Password Confirmation\"\n          onChange={formik.handleChange}\n          value={formik.values.passwordConfirmation}\n        />\n\n        {formik.errors.passwordConfirmation && (\n          <p>{formik.errors.passwordConfirmation}</p>\n        )}\n\n        <select name=\"roles\" ref={roleRef} onChange={formik.handleChange}>\n          <option value=\"manager\">Manager</option>\n          <option value=\"developer\">Developer</option>\n          <option value=\"qa\">QA</option>\n        </select>\n\n        {formik.errors.role && <p>{formik.errors.role}</p>}\n\n        <button className={styles.submitButton} type=\"submit\">\n          Submit\n        </button>\n        {error}\n      </form>\n    </>\n  )\n}\n\nexport default Registrations\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}