{"ast":null,"code":"var _jsxFileName = \"/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { signUpUser } from '../redux/actions/userActions';\nimport { useNavigate } from 'react-router-dom';\nimport { useFormik } from 'formik';\nimport { Header, Spinner } from '../components';\nimport { registrationSchema } from './schema';\nimport styles from '../assets/scss/registration.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Registrations = () => {\n  _s();\n\n  var _formik$errors, _formik$errors2, _formik$errors3;\n\n  const [state, setState] = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    role: ''\n  });\n  const roleRef = useRef();\n  const [clicked, setClicked] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const url = process.env.REACT_APP_REGISTRATION_URL;\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      role: ''\n    },\n    validationSchema: yup.object({\n      name: yup.string().required('Name is Required'),\n      email: yup.string().email('Invalid Email Address').required('Email is required'),\n      password: yup.string().required('Password is required').min(5, 'Length should be greater than 5'),\n      passwordConfirmation: yup.string().oneOf([yup.ref('password'), null], 'Passwords must match')\n    }),\n    onSubmit: values => {\n      setClicked(true);\n      setState({ ...state,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value\n      });\n    }\n  });\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, state, setLoading, navigate));\n      setLoading(true);\n    }\n  }, [clicked, state, url, dispatch, navigate]);\n  return loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.registrationForm,\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"name\",\n        name: \"name\",\n        placeholder: \"Your Name\",\n        onChange: formik.handleChange,\n        value: formik.values.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), formik.errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        onChange: formik.handleChange,\n        value: formik.values.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), formik.errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: formik.handleChange,\n        value: formik.values.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), ((_formik$errors = formik.errors) === null || _formik$errors === void 0 ? void 0 : _formik$errors.password) && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"passwordConfirmation\",\n        placeholder: \"Password Confirmation\",\n        onChange: formik.handleChange,\n        value: formik.values.passwordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), ((_formik$errors2 = formik.errors) === null || _formik$errors2 === void 0 ? void 0 : _formik$errors2.passwordConfirmation) && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.passwordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"roles\",\n        ref: roleRef,\n        onChange: formik.handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"manager\",\n          children: \"Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"developer\",\n          children: \"Developer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"qa\",\n          children: \"QA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), ((_formik$errors3 = formik.errors) === null || _formik$errors3 === void 0 ? void 0 : _formik$errors3.role) && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.submitButton,\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Registrations, \"/vM0eupRm2qK2bT0QSZCqcBQRcM=\", false, function () {\n  return [useDispatch, useNavigate, useFormik];\n});\n\n_c = Registrations;\nexport default Registrations;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registrations\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useDispatch","signUpUser","useNavigate","useFormik","Header","Spinner","registrationSchema","styles","Registrations","state","setState","name","email","password","passwordConfirmation","role","roleRef","clicked","setClicked","loading","setLoading","dispatch","navigate","url","process","env","REACT_APP_REGISTRATION_URL","formik","initialValues","validationSchema","yup","object","string","required","min","oneOf","ref","onSubmit","values","current","value","registrationForm","handleSubmit","handleChange","errors","submitButton"],"sources":["/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { signUpUser } from '../redux/actions/userActions'\nimport { useNavigate } from 'react-router-dom'\nimport { useFormik } from 'formik'\nimport { Header, Spinner } from '../components'\nimport { registrationSchema } from './schema'\n\nimport styles from '../assets/scss/registration.module.css'\n\nconst Registrations = () => {\n  const [state, setState] = useState({\n    name: '',\n    email: '',\n    password: '',\n    passwordConfirmation: '',\n    role: '',\n  })\n  const roleRef = useRef()\n  const [clicked, setClicked] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const url = process.env.REACT_APP_REGISTRATION_URL\n\n  const formik = useFormik({\n    initialValues: {\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      role: '',\n    },\n    validationSchema: yup.object({\n      name: yup.string().required('Name is Required'),\n      email: yup\n        .string()\n        .email('Invalid Email Address')\n        .required('Email is required'),\n      password: yup\n        .string()\n        .required('Password is required')\n        .min(5, 'Length should be greater than 5'),\n      passwordConfirmation: yup\n        .string()\n        .oneOf([yup.ref('password'), null], 'Passwords must match'),\n    }),\n    onSubmit: (values) => {\n      setClicked(true)\n      setState({\n        ...state,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value,\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, state, setLoading, navigate))\n      setLoading(true)\n    }\n  }, [clicked, state, url, dispatch, navigate])\n\n  return loading ? (\n    <Spinner />\n  ) : (\n    <>\n      <Header />\n      <form className={styles.registrationForm} onSubmit={formik.handleSubmit}>\n        <input\n          type='name'\n          name='name'\n          placeholder='Your Name'\n          onChange={formik.handleChange}\n          value={formik.values.name}\n        />\n        {formik.errors.name && <p>{formik.errors.name}</p>}\n\n        <input\n          type='email'\n          name='email'\n          placeholder='Email'\n          onChange={formik.handleChange}\n          value={formik.values.email}\n        />\n\n        {formik.errors.name && <p>{formik.errors.email}</p>}\n\n        <input\n          type='password'\n          name='password'\n          placeholder='Password'\n          onChange={formik.handleChange}\n          value={formik.values.password}\n        />\n\n        {formik.errors?.password && <p>{formik.errors.password}</p>}\n\n        <input\n          type='password'\n          name='passwordConfirmation'\n          placeholder='Password Confirmation'\n          onChange={formik.handleChange}\n          value={formik.values.passwordConfirmation}\n        />\n\n        {formik.errors?.passwordConfirmation && (\n          <p>{formik.errors.passwordConfirmation}</p>\n        )}\n\n        <select name='roles' ref={roleRef} onChange={formik.handleChange}>\n          <option value='manager'>Manager</option>\n          <option value='developer'>Developer</option>\n          <option value='qa'>QA</option>\n        </select>\n\n        {formik.errors?.role && <p>{formik.errors.role}</p>}\n\n        <button className={styles.submitButton} type='submit'>\n          Submit\n        </button>\n      </form>\n    </>\n  )\n}\n\nexport default Registrations\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}