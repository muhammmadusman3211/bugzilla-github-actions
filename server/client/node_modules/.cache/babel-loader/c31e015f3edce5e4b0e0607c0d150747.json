{"ast":null,"code":"import { SIGN_IN_USER, SIGN_UP_USER, SIGN_OUT_USER, AUTHORIZE_LOG_IN, CREATE_BUG, CREATE_PROJECT, EDIT_PROJECT, SEND_EMAIL, CHANGE_PASSWORD } from \"./constants\";\nimport { AUTHORIZED_ROUTE } from \"./constants\";\nimport { LogoutApi, AuthLoginApi, AuthApi, CreateBugApi, CreateProjectApi, EditProjectApi, SendEmailApi, ChangePasswordApi } from \"../../api/api\";\nimport { useNavigate } from \"react-router-dom\";\nconst navigate = useNavigate();\nexport const signUpUser = (url, data, setLoading, navigate) => async dispatch => {\n  try {\n    const user = await AuthApi(url, data);\n    dispatch({\n      type: SIGN_UP_USER,\n      user\n    });\n    setLoading(false);\n    navigate(\"/login\");\n  } catch (err) {\n    console.log(\"reducer\", err);\n  }\n};\nexport const signInUser = (url, data, setLoading, setError, openSnackbar) => async dispatch => {\n  try {\n    var _user$response;\n\n    let user = await AuthApi(url, data);\n    console.log(user);\n\n    if ((user === null || user === void 0 ? void 0 : (_user$response = user.response) === null || _user$response === void 0 ? void 0 : _user$response.status) === 401) {\n      setError(user.response.data.message);\n      setLoading(false);\n      openSnackbar(user.response.data.message);\n      dispatch({\n        type: SIGN_IN_USER,\n        payload: user.response.data.message\n      });\n    } else {\n      console.log(\"here\");\n      localStorage.setItem(\"profile\", JSON.stringify(user.data.body));\n      localStorage.setItem(\"token\", JSON.stringify(user.data.token));\n      setLoading(false);\n      openSnackbar(\"You have sucessfully Signed In\");\n      dispatch({\n        type: SIGN_IN_USER,\n        payload: user\n      });\n    }\n\n    console.log(\"here\");\n  } catch (err) {\n    openSnackbar(err);\n  }\n};\nexport const authorizeLogIn = (url, data, openSnackbar) => async dispatch => {\n  try {\n    const user = await AuthLoginApi(url, data);\n    dispatch({\n      type: AUTHORIZE_LOG_IN,\n      payload: user\n    });\n    console.log(\"message\", user.data.message);\n    if (user.data.message !== AUTHORIZED_ROUTE) openSnackbar(\"You are not Authorized\");\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const signOutUser = (url, setLoading, openSnackbar, navigate) => async dispatch => {\n  try {\n    await LogoutApi(url);\n    localStorage.removeItem(\"profile\");\n    localStorage.removeItem(\"token\");\n    dispatch({\n      type: SIGN_OUT_USER\n    });\n    setLoading(false);\n    openSnackbar(\"You have sucessfully Logged Out\");\n    navigate(\"/login\");\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const createBug = (url, data, setLoading, setImage) => async dispatch => {\n  try {\n    console.log(url, data);\n    const res = await CreateBugApi(url, data);\n    console.log(res);\n    setImage(res.bug.image.path);\n    dispatch({\n      type: CREATE_BUG\n    });\n    setLoading(false);\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const createProject = (url, data, setLoading, setErrors, openSnackbar) => async dispatch => {\n  try {\n    const response = await CreateProjectApi(url, data);\n\n    if (response.response.status !== 401) {\n      dispatch({\n        type: CREATE_PROJECT\n      });\n      setLoading(false);\n      navigate(\"/\");\n    } else {\n      console.log(response.response.data.message.name);\n      setErrors(response.response.data.message.name);\n      openSnackbar(response.response.data.message.name);\n      setLoading(false);\n    }\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const editProject = (url, data, setLoading) => async dispatch => {\n  console.log(data);\n\n  try {\n    const res = await EditProjectApi(url, data);\n    console.log(\"Project\", res);\n    dispatch({\n      type: EDIT_PROJECT\n    });\n    setLoading(false);\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const sendEmail = (url, data, openSnackbar) => async dispatch => {\n  try {\n    const res = await SendEmailApi(url, data);\n    openSnackbar(res.data.message);\n    dispatch({\n      type: SEND_EMAIL\n    });\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};\nexport const changePassword = (url, data, openSnackbar) => async dispatch => {\n  try {\n    const res = await ChangePasswordApi(url, data);\n    console.log(res.data.message);\n    openSnackbar(res.data.message);\n    dispatch({\n      type: CHANGE_PASSWORD\n    });\n  } catch (err) {\n    console.log(err);\n    const error = err;\n  }\n};","map":{"version":3,"names":["SIGN_IN_USER","SIGN_UP_USER","SIGN_OUT_USER","AUTHORIZE_LOG_IN","CREATE_BUG","CREATE_PROJECT","EDIT_PROJECT","SEND_EMAIL","CHANGE_PASSWORD","AUTHORIZED_ROUTE","LogoutApi","AuthLoginApi","AuthApi","CreateBugApi","CreateProjectApi","EditProjectApi","SendEmailApi","ChangePasswordApi","useNavigate","navigate","signUpUser","url","data","setLoading","dispatch","user","type","err","console","log","signInUser","setError","openSnackbar","response","status","message","payload","localStorage","setItem","JSON","stringify","body","token","authorizeLogIn","error","signOutUser","removeItem","createBug","setImage","res","bug","image","path","createProject","setErrors","name","editProject","sendEmail","changePassword"],"sources":["/home/dev/Documents/bugzilla/server/client/src/redux/actions/userActions.js"],"sourcesContent":["import {\n  SIGN_IN_USER,\n  SIGN_UP_USER,\n  SIGN_OUT_USER,\n  AUTHORIZE_LOG_IN,\n  CREATE_BUG,\n  CREATE_PROJECT,\n  EDIT_PROJECT,\n  SEND_EMAIL,\n  CHANGE_PASSWORD,\n} from \"./constants\"\nimport { AUTHORIZED_ROUTE } from \"./constants\"\nimport {\n  LogoutApi,\n  AuthLoginApi,\n  AuthApi,\n  CreateBugApi,\n  CreateProjectApi,\n  EditProjectApi,\n  SendEmailApi,\n  ChangePasswordApi,\n} from \"../../api/api\"\nimport { useNavigate } from \"react-router-dom\"\nconst navigate = useNavigate()\nexport const signUpUser =\n  (url, data, setLoading, navigate) => async (dispatch) => {\n    try {\n      const user = await AuthApi(url, data)\n\n      dispatch({ type: SIGN_UP_USER, user })\n      setLoading(false)\n      navigate(\"/login\")\n    } catch (err) {\n      console.log(\"reducer\", err)\n    }\n  }\n\nexport const signInUser =\n  (url, data, setLoading, setError, openSnackbar) => async (dispatch) => {\n    try {\n      let user = await AuthApi(url, data)\n      console.log(user)\n      if (user?.response?.status === 401) {\n        setError(user.response.data.message)\n        setLoading(false)\n        openSnackbar(user.response.data.message)\n        dispatch({ type: SIGN_IN_USER, payload: user.response.data.message })\n      } else {\n        console.log(\"here\")\n        localStorage.setItem(\"profile\", JSON.stringify(user.data.body))\n        localStorage.setItem(\"token\", JSON.stringify(user.data.token))\n        setLoading(false)\n        openSnackbar(\"You have sucessfully Signed In\")\n        dispatch({ type: SIGN_IN_USER, payload: user })\n      }\n      console.log(\"here\")\n    } catch (err) {\n      openSnackbar(err)\n    }\n  }\n\nexport const authorizeLogIn = (url, data, openSnackbar) => async (dispatch) => {\n  try {\n    const user = await AuthLoginApi(url, data)\n    dispatch({ type: AUTHORIZE_LOG_IN, payload: user })\n    console.log(\"message\", user.data.message)\n    if (user.data.message !== AUTHORIZED_ROUTE)\n      openSnackbar(\"You are not Authorized\")\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n\nexport const signOutUser =\n  (url, setLoading, openSnackbar, navigate) => async (dispatch) => {\n    try {\n      await LogoutApi(url)\n      localStorage.removeItem(\"profile\")\n      localStorage.removeItem(\"token\")\n      dispatch({ type: SIGN_OUT_USER })\n      setLoading(false)\n      openSnackbar(\"You have sucessfully Logged Out\")\n      navigate(\"/login\")\n    } catch (err) {\n      console.log(err)\n      const error = err\n    }\n  }\n\nexport const createBug =\n  (url, data, setLoading, setImage) => async (dispatch) => {\n    try {\n      console.log(url, data)\n      const res = await CreateBugApi(url, data)\n      console.log(res)\n      setImage(res.bug.image.path)\n      dispatch({ type: CREATE_BUG })\n      setLoading(false)\n    } catch (err) {\n      console.log(err)\n      const error = err\n    }\n  }\n\nexport const createProject =\n  (url, data, setLoading, setErrors, openSnackbar) => async (dispatch) => {\n    try {\n      const response = await CreateProjectApi(url, data)\n      if (response.response.status !== 401) {\n        dispatch({ type: CREATE_PROJECT })\n        setLoading(false)\n        navigate(\"/\")\n      } else {\n        console.log(response.response.data.message.name)\n        setErrors(response.response.data.message.name)\n        openSnackbar(response.response.data.message.name)\n        setLoading(false)\n      }\n    } catch (err) {\n      console.log(err)\n      const error = err\n    }\n  }\n\nexport const editProject = (url, data, setLoading) => async (dispatch) => {\n  console.log(data)\n  try {\n    const res = await EditProjectApi(url, data)\n    console.log(\"Project\", res)\n    dispatch({ type: EDIT_PROJECT })\n    setLoading(false)\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n\nexport const sendEmail = (url, data, openSnackbar) => async (dispatch) => {\n  try {\n    const res = await SendEmailApi(url, data)\n    openSnackbar(res.data.message)\n    dispatch({ type: SEND_EMAIL })\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n\nexport const changePassword = (url, data, openSnackbar) => async (dispatch) => {\n  try {\n    const res = await ChangePasswordApi(url, data)\n    console.log(res.data.message)\n    openSnackbar(res.data.message)\n    dispatch({ type: CHANGE_PASSWORD })\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n"],"mappings":"AAAA,SACEA,YADF,EAEEC,YAFF,EAGEC,aAHF,EAIEC,gBAJF,EAKEC,UALF,EAMEC,cANF,EAOEC,YAPF,EAQEC,UARF,EASEC,eATF,QAUO,aAVP;AAWA,SAASC,gBAAT,QAAiC,aAAjC;AACA,SACEC,SADF,EAEEC,YAFF,EAGEC,OAHF,EAIEC,YAJF,EAKEC,gBALF,EAMEC,cANF,EAOEC,YAPF,EAQEC,iBARF,QASO,eATP;AAUA,SAASC,WAAT,QAA4B,kBAA5B;AACA,MAAMC,QAAQ,GAAGD,WAAW,EAA5B;AACA,OAAO,MAAME,UAAU,GACrB,CAACC,GAAD,EAAMC,IAAN,EAAYC,UAAZ,EAAwBJ,QAAxB,KAAqC,MAAOK,QAAP,IAAoB;EACvD,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMb,OAAO,CAACS,GAAD,EAAMC,IAAN,CAA1B;IAEAE,QAAQ,CAAC;MAAEE,IAAI,EAAEzB,YAAR;MAAsBwB;IAAtB,CAAD,CAAR;IACAF,UAAU,CAAC,KAAD,CAAV;IACAJ,QAAQ,CAAC,QAAD,CAAR;EACD,CAND,CAME,OAAOQ,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,GAAvB;EACD;AACF,CAXI;AAaP,OAAO,MAAMG,UAAU,GACrB,CAACT,GAAD,EAAMC,IAAN,EAAYC,UAAZ,EAAwBQ,QAAxB,EAAkCC,YAAlC,KAAmD,MAAOR,QAAP,IAAoB;EACrE,IAAI;IAAA;;IACF,IAAIC,IAAI,GAAG,MAAMb,OAAO,CAACS,GAAD,EAAMC,IAAN,CAAxB;IACAM,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;IACA,IAAI,CAAAA,IAAI,SAAJ,IAAAA,IAAI,WAAJ,8BAAAA,IAAI,CAAEQ,QAAN,kEAAgBC,MAAhB,MAA2B,GAA/B,EAAoC;MAClCH,QAAQ,CAACN,IAAI,CAACQ,QAAL,CAAcX,IAAd,CAAmBa,OAApB,CAAR;MACAZ,UAAU,CAAC,KAAD,CAAV;MACAS,YAAY,CAACP,IAAI,CAACQ,QAAL,CAAcX,IAAd,CAAmBa,OAApB,CAAZ;MACAX,QAAQ,CAAC;QAAEE,IAAI,EAAE1B,YAAR;QAAsBoC,OAAO,EAAEX,IAAI,CAACQ,QAAL,CAAcX,IAAd,CAAmBa;MAAlD,CAAD,CAAR;IACD,CALD,MAKO;MACLP,OAAO,CAACC,GAAR,CAAY,MAAZ;MACAQ,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAef,IAAI,CAACH,IAAL,CAAUmB,IAAzB,CAAhC;MACAJ,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAef,IAAI,CAACH,IAAL,CAAUoB,KAAzB,CAA9B;MACAnB,UAAU,CAAC,KAAD,CAAV;MACAS,YAAY,CAAC,gCAAD,CAAZ;MACAR,QAAQ,CAAC;QAAEE,IAAI,EAAE1B,YAAR;QAAsBoC,OAAO,EAAEX;MAA/B,CAAD,CAAR;IACD;;IACDG,OAAO,CAACC,GAAR,CAAY,MAAZ;EACD,CAjBD,CAiBE,OAAOF,GAAP,EAAY;IACZK,YAAY,CAACL,GAAD,CAAZ;EACD;AACF,CAtBI;AAwBP,OAAO,MAAMgB,cAAc,GAAG,CAACtB,GAAD,EAAMC,IAAN,EAAYU,YAAZ,KAA6B,MAAOR,QAAP,IAAoB;EAC7E,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMd,YAAY,CAACU,GAAD,EAAMC,IAAN,CAA/B;IACAE,QAAQ,CAAC;MAAEE,IAAI,EAAEvB,gBAAR;MAA0BiC,OAAO,EAAEX;IAAnC,CAAD,CAAR;IACAG,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBJ,IAAI,CAACH,IAAL,CAAUa,OAAjC;IACA,IAAIV,IAAI,CAACH,IAAL,CAAUa,OAAV,KAAsB1B,gBAA1B,EACEuB,YAAY,CAAC,wBAAD,CAAZ;EACH,CAND,CAME,OAAOL,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CAXM;AAaP,OAAO,MAAMkB,WAAW,GACtB,CAACxB,GAAD,EAAME,UAAN,EAAkBS,YAAlB,EAAgCb,QAAhC,KAA6C,MAAOK,QAAP,IAAoB;EAC/D,IAAI;IACF,MAAMd,SAAS,CAACW,GAAD,CAAf;IACAgB,YAAY,CAACS,UAAb,CAAwB,SAAxB;IACAT,YAAY,CAACS,UAAb,CAAwB,OAAxB;IACAtB,QAAQ,CAAC;MAAEE,IAAI,EAAExB;IAAR,CAAD,CAAR;IACAqB,UAAU,CAAC,KAAD,CAAV;IACAS,YAAY,CAAC,iCAAD,CAAZ;IACAb,QAAQ,CAAC,QAAD,CAAR;EACD,CARD,CAQE,OAAOQ,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CAdI;AAgBP,OAAO,MAAMoB,SAAS,GACpB,CAAC1B,GAAD,EAAMC,IAAN,EAAYC,UAAZ,EAAwByB,QAAxB,KAAqC,MAAOxB,QAAP,IAAoB;EACvD,IAAI;IACFI,OAAO,CAACC,GAAR,CAAYR,GAAZ,EAAiBC,IAAjB;IACA,MAAM2B,GAAG,GAAG,MAAMpC,YAAY,CAACQ,GAAD,EAAMC,IAAN,CAA9B;IACAM,OAAO,CAACC,GAAR,CAAYoB,GAAZ;IACAD,QAAQ,CAACC,GAAG,CAACC,GAAJ,CAAQC,KAAR,CAAcC,IAAf,CAAR;IACA5B,QAAQ,CAAC;MAAEE,IAAI,EAAEtB;IAAR,CAAD,CAAR;IACAmB,UAAU,CAAC,KAAD,CAAV;EACD,CAPD,CAOE,OAAOI,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CAbI;AAeP,OAAO,MAAM0B,aAAa,GACxB,CAAChC,GAAD,EAAMC,IAAN,EAAYC,UAAZ,EAAwB+B,SAAxB,EAAmCtB,YAAnC,KAAoD,MAAOR,QAAP,IAAoB;EACtE,IAAI;IACF,MAAMS,QAAQ,GAAG,MAAMnB,gBAAgB,CAACO,GAAD,EAAMC,IAAN,CAAvC;;IACA,IAAIW,QAAQ,CAACA,QAAT,CAAkBC,MAAlB,KAA6B,GAAjC,EAAsC;MACpCV,QAAQ,CAAC;QAAEE,IAAI,EAAErB;MAAR,CAAD,CAAR;MACAkB,UAAU,CAAC,KAAD,CAAV;MACAJ,QAAQ,CAAC,GAAD,CAAR;IACD,CAJD,MAIO;MACLS,OAAO,CAACC,GAAR,CAAYI,QAAQ,CAACA,QAAT,CAAkBX,IAAlB,CAAuBa,OAAvB,CAA+BoB,IAA3C;MACAD,SAAS,CAACrB,QAAQ,CAACA,QAAT,CAAkBX,IAAlB,CAAuBa,OAAvB,CAA+BoB,IAAhC,CAAT;MACAvB,YAAY,CAACC,QAAQ,CAACA,QAAT,CAAkBX,IAAlB,CAAuBa,OAAvB,CAA+BoB,IAAhC,CAAZ;MACAhC,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAZD,CAYE,OAAOI,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CAlBI;AAoBP,OAAO,MAAM6B,WAAW,GAAG,CAACnC,GAAD,EAAMC,IAAN,EAAYC,UAAZ,KAA2B,MAAOC,QAAP,IAAoB;EACxEI,OAAO,CAACC,GAAR,CAAYP,IAAZ;;EACA,IAAI;IACF,MAAM2B,GAAG,GAAG,MAAMlC,cAAc,CAACM,GAAD,EAAMC,IAAN,CAAhC;IACAM,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBoB,GAAvB;IACAzB,QAAQ,CAAC;MAAEE,IAAI,EAAEpB;IAAR,CAAD,CAAR;IACAiB,UAAU,CAAC,KAAD,CAAV;EACD,CALD,CAKE,OAAOI,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CAXM;AAaP,OAAO,MAAM8B,SAAS,GAAG,CAACpC,GAAD,EAAMC,IAAN,EAAYU,YAAZ,KAA6B,MAAOR,QAAP,IAAoB;EACxE,IAAI;IACF,MAAMyB,GAAG,GAAG,MAAMjC,YAAY,CAACK,GAAD,EAAMC,IAAN,CAA9B;IACAU,YAAY,CAACiB,GAAG,CAAC3B,IAAJ,CAASa,OAAV,CAAZ;IACAX,QAAQ,CAAC;MAAEE,IAAI,EAAEnB;IAAR,CAAD,CAAR;EACD,CAJD,CAIE,OAAOoB,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CATM;AAWP,OAAO,MAAM+B,cAAc,GAAG,CAACrC,GAAD,EAAMC,IAAN,EAAYU,YAAZ,KAA6B,MAAOR,QAAP,IAAoB;EAC7E,IAAI;IACF,MAAMyB,GAAG,GAAG,MAAMhC,iBAAiB,CAACI,GAAD,EAAMC,IAAN,CAAnC;IACAM,OAAO,CAACC,GAAR,CAAYoB,GAAG,CAAC3B,IAAJ,CAASa,OAArB;IACAH,YAAY,CAACiB,GAAG,CAAC3B,IAAJ,CAASa,OAAV,CAAZ;IACAX,QAAQ,CAAC;MAAEE,IAAI,EAAElB;IAAR,CAAD,CAAR;EACD,CALD,CAKE,OAAOmB,GAAP,EAAY;IACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACA,MAAMiB,KAAK,GAAGjB,GAAd;EACD;AACF,CAVM"},"metadata":{},"sourceType":"module"}