{"ast":null,"code":"import { SIGN_IN_USER, SIGN_UP_USER, SIGN_OUT_USER, AUTHORIZE_LOG_IN, CREATE_BUG, CREATE_PROJECT, EDIT_PROJECT, SEND_EMAIL, CHANGE_PASSWORD } from \"./constants\";\nimport { AUTHORIZED_ROUTE } from \"./constants\";\nimport { LogoutApi, AuthLoginApi, AuthApi, CreateBugApi, CreateProjectApi, EditProjectApi, SendEmailApi, ChangePasswordApi } from \"../../api/api\";\nexport const signUpUser = (url, data, setLoading, navigate) => async dispatch => {\n  try {\n    const user = await AuthApi(url, data);\n    dispatch({\n      type: SIGN_UP_USER,\n      user\n    });\n    setLoading(false);\n    navigate(\"/login\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const signInUser = (url, data, setLoading, setError, openSnackbar, navigate) => async dispatch => {\n  try {\n    var _user$data, _user$data2;\n\n    let user = await AuthApi(url, data);\n    localStorage.setItem(\"profile\", JSON.stringify(user === null || user === void 0 ? void 0 : (_user$data = user.data) === null || _user$data === void 0 ? void 0 : _user$data.body));\n    localStorage.setItem(\"token\", JSON.stringify(user === null || user === void 0 ? void 0 : (_user$data2 = user.data) === null || _user$data2 === void 0 ? void 0 : _user$data2.token));\n    setLoading(false);\n    openSnackbar(\"You have sucessfully Signed In\");\n    dispatch({\n      type: SIGN_IN_USER,\n      payload: user\n    });\n    navigate(\"/view-projects\");\n  } catch (err) {\n    openSnackbar(err);\n  }\n};\nexport const authorizeLogIn = (url, data, openSnackbar) => async dispatch => {\n  try {\n    const user = await AuthLoginApi(url, data);\n    dispatch({\n      type: AUTHORIZE_LOG_IN,\n      payload: user\n    });\n    if (user.data.message !== AUTHORIZED_ROUTE) openSnackbar(\"You are not Authorized\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const signOutUser = (url, setLoading, openSnackbar, navigate) => async dispatch => {\n  try {\n    await LogoutApi(url);\n    localStorage.removeItem(\"profile\");\n    localStorage.removeItem(\"token\");\n    dispatch({\n      type: SIGN_OUT_USER\n    });\n    setLoading(false);\n    openSnackbar(\"You have sucessfully Logged Out\");\n    navigate(\"/login\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const createBug = (url, data, setLoading, setImage, openSnackbar, navigate) => async dispatch => {\n  try {\n    const res = await CreateBugApi(url, data);\n    setImage(res.data.bug.image.path);\n    dispatch({\n      type: CREATE_BUG\n    });\n    setLoading(false);\n    openSnackbar(\"Bug Created\");\n    navigate(\"/view-projects\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const createProject = (url, data, setLoading, setErrors, openSnackbar, navigate) => async dispatch => {\n  try {\n    var _response$response;\n\n    const response = await CreateProjectApi(url, data);\n\n    if ((response === null || response === void 0 ? void 0 : (_response$response = response.response) === null || _response$response === void 0 ? void 0 : _response$response.status) === 401) {\n      setErrors(response.response.data.message.name);\n      openSnackbar(response.response.data.message.name);\n      setLoading(false);\n    } else {\n      dispatch({\n        type: CREATE_PROJECT\n      });\n      setLoading(false);\n      openSnackbar(\"Project Created\");\n      navigate(\"/view-projects\");\n    }\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const editProject = (url, data, setLoading, setError, openSnackbar, navigate) => async dispatch => {\n  try {\n    const res = await EditProjectApi(url, data);\n    dispatch({\n      type: EDIT_PROJECT\n    });\n    setLoading(false);\n    openSnackbar(\"Project Edited\");\n    navigate(\"/view-projects\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const sendEmail = (url, data, openSnackbar, navigate) => async dispatch => {\n  try {\n    const res = await SendEmailApi(url, data);\n    openSnackbar(res.data.message);\n    dispatch({\n      type: SEND_EMAIL\n    });\n    navigate(\"/change-password\");\n  } catch (err) {\n    console.log(err);\n  }\n};\nexport const changePassword = (url, data, openSnackbar, navigate) => async dispatch => {\n  try {\n    const res = await ChangePasswordApi(url, data);\n    openSnackbar(res.data.message);\n    navigate(\"/login\");\n    dispatch({\n      type: CHANGE_PASSWORD\n    });\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"names":["SIGN_IN_USER","SIGN_UP_USER","SIGN_OUT_USER","AUTHORIZE_LOG_IN","CREATE_BUG","CREATE_PROJECT","EDIT_PROJECT","SEND_EMAIL","CHANGE_PASSWORD","AUTHORIZED_ROUTE","LogoutApi","AuthLoginApi","AuthApi","CreateBugApi","CreateProjectApi","EditProjectApi","SendEmailApi","ChangePasswordApi","signUpUser","url","data","setLoading","navigate","dispatch","user","type","err","console","log","signInUser","setError","openSnackbar","localStorage","setItem","JSON","stringify","body","token","payload","authorizeLogIn","message","signOutUser","removeItem","createBug","setImage","res","bug","image","path","createProject","setErrors","response","status","name","editProject","sendEmail","changePassword"],"sources":["/home/dev/Documents/bugzilla/server/client/src/redux/actions/userActions.js"],"sourcesContent":["import {\n  SIGN_IN_USER,\n  SIGN_UP_USER,\n  SIGN_OUT_USER,\n  AUTHORIZE_LOG_IN,\n  CREATE_BUG,\n  CREATE_PROJECT,\n  EDIT_PROJECT,\n  SEND_EMAIL,\n  CHANGE_PASSWORD,\n} from \"./constants\"\nimport { AUTHORIZED_ROUTE } from \"./constants\"\nimport {\n  LogoutApi,\n  AuthLoginApi,\n  AuthApi,\n  CreateBugApi,\n  CreateProjectApi,\n  EditProjectApi,\n  SendEmailApi,\n  ChangePasswordApi,\n} from \"../../api/api\"\n\nexport const signUpUser =\n  (url, data, setLoading, navigate) => async (dispatch) => {\n    try {\n      const user = await AuthApi(url, data)\n\n      dispatch({ type: SIGN_UP_USER, user })\n      setLoading(false)\n      navigate(\"/login\")\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\nexport const signInUser =\n  (url, data, setLoading, setError, openSnackbar, navigate) =>\n  async (dispatch) => {\n    try {\n      let user = await AuthApi(url, data)\n\n      localStorage.setItem(\"profile\", JSON.stringify(user?.data?.body))\n      localStorage.setItem(\"token\", JSON.stringify(user?.data?.token))\n      setLoading(false)\n      openSnackbar(\"You have sucessfully Signed In\")\n      dispatch({ type: SIGN_IN_USER, payload: user })\n      navigate(\"/view-projects\")\n    } catch (err) {\n      openSnackbar(err)\n    }\n  }\n\nexport const authorizeLogIn = (url, data, openSnackbar) => async (dispatch) => {\n  try {\n    const user = await AuthLoginApi(url, data)\n    dispatch({ type: AUTHORIZE_LOG_IN, payload: user })\n    if (user.data.message !== AUTHORIZED_ROUTE)\n      openSnackbar(\"You are not Authorized\")\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nexport const signOutUser =\n  (url, setLoading, openSnackbar, navigate) => async (dispatch) => {\n    try {\n      await LogoutApi(url)\n      localStorage.removeItem(\"profile\")\n      localStorage.removeItem(\"token\")\n      dispatch({ type: SIGN_OUT_USER })\n      setLoading(false)\n      openSnackbar(\"You have sucessfully Logged Out\")\n      navigate(\"/login\")\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\nexport const createBug =\n  (url, data, setLoading, setImage, openSnackbar, navigate) =>\n  async (dispatch) => {\n    try {\n      const res = await CreateBugApi(url, data)\n      setImage(res.data.bug.image.path)\n      dispatch({ type: CREATE_BUG })\n      setLoading(false)\n      openSnackbar(\"Bug Created\")\n      navigate(\"/view-projects\")\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\nexport const createProject =\n  (url, data, setLoading, setErrors, openSnackbar, navigate) =>\n  async (dispatch) => {\n    try {\n      const response = await CreateProjectApi(url, data)\n      if (response?.response?.status === 401) {\n        setErrors(response.response.data.message.name)\n        openSnackbar(response.response.data.message.name)\n        setLoading(false)\n      } else {\n        dispatch({ type: CREATE_PROJECT })\n        setLoading(false)\n        openSnackbar(\"Project Created\")\n        navigate(\"/view-projects\")\n      }\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\nexport const editProject =\n  (url, data, setLoading, setError, openSnackbar, navigate) =>\n  async (dispatch) => {\n    try {\n      const res = await EditProjectApi(url, data)\n      dispatch({ type: EDIT_PROJECT })\n      setLoading(false)\n      openSnackbar(\"Project Edited\")\n      navigate(\"/view-projects\")\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\nexport const sendEmail =\n  (url, data, openSnackbar, navigate) => async (dispatch) => {\n    try {\n      const res = await SendEmailApi(url, data)\n      openSnackbar(res.data.message)\n      dispatch({ type: SEND_EMAIL })\n      navigate(\"/change-password\")\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\nexport const changePassword =\n  (url, data, openSnackbar, navigate) => async (dispatch) => {\n    try {\n      const res = await ChangePasswordApi(url, data)\n      openSnackbar(res.data.message)\n      navigate(\"/login\")\n      dispatch({ type: CHANGE_PASSWORD })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}