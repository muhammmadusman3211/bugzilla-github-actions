{"ast":null,"code":"var _jsxFileName = \"/home/dev/Documents/bugzilla/server/client/src/pages/Bug/CreateBug.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useSnackbar } from \"react-simple-snackbar\";\nimport Calendar from \"react-calendar\";\nimport { createBug } from \"../../redux/actions/userActions\";\nimport { Header, Spinner } from \"../../components\";\nimport { options } from \"../../helpers/options\";\nimport \"react-calendar/dist/Calendar.css\";\nimport styles from \"../../assets/scss/createbug.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CreateBug() {\n  _s();\n\n  var _typeRef$current;\n\n  const titleRef = useRef();\n  const statusRef = useRef();\n  const typeRef = useRef();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    state\n  } = useLocation();\n  const [openSnackbar] = useSnackbar(options);\n  const [image, setImage] = useState(\"\");\n  const [date, setDate] = useState(new Date()); // eslint-disable-next-line no-shadow\n\n  const loading = useSelector(state => state.user.loading); // eslint-disable-next-line no-shadow\n\n  const error = useSelector(state => state.user.error);\n  const url = process.env.REACT_APP_CREATE_BUG;\n  const user = JSON.parse(localStorage.getItem(process.env.REACT_APP_PROFILE));\n\n  const onChange = e => {\n    setImage(e.target.files[0]);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"projectId\", state.id);\n    formData.append(\"creator\", user._id);\n    formData.append(\"title\", titleRef.current.value);\n    formData.append(\"status\", statusRef.current.value);\n    formData.append(\"type\", typeRef.current.value);\n    formData.append(\"deadline\", date.toLocaleDateString());\n    formData.append(\"file\", image);\n    dispatch(createBug(url, formData, setImage, navigate));\n  };\n\n  useEffect(() => {}, [image]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-bug-wrapper \",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"d-flex flex-column w-50 m-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"BUG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: state.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bug Creator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: user.name,\n          disabled: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: titleRef,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Type\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          ref: typeRef,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Feature\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Bug\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          ref: statusRef,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Started\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), (typeRef === null || typeRef === void 0 ? void 0 : (_typeRef$current = typeRef.current) === null || _typeRef$current === void 0 ? void 0 : _typeRef$current.value) === \"Bug\" ? /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Resolved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Completed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Deadline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: date.toLocaleDateString(),\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n            onChange: setDate,\n            value: date,\n            minDate: new Date(),\n            defaultView: \"month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Attach Screenshot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          accept: \".png, .gif\",\n          className: \"image-upload\",\n          type: \"file\",\n          name: \"image\",\n          onChange: onChange,\n          width: \"100px\",\n          height: \"100px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: process.env.REACT_APP_LOCALHOST + image,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: styles.createBugBtn,\n          onClick: onSubmit,\n          children: \"Create Bug\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CreateBug, \"T0EkQYgvOiFPQtLjjo4+lIPCGJY=\", false, function () {\n  return [useNavigate, useDispatch, useLocation, useSnackbar, useSelector, useSelector];\n});\n\n_c = CreateBug;\nexport default CreateBug;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateBug\");","map":{"version":3,"names":["useEffect","useRef","useState","useDispatch","useSelector","useLocation","useNavigate","useSnackbar","Calendar","createBug","Header","Spinner","options","styles","CreateBug","titleRef","statusRef","typeRef","navigate","dispatch","state","openSnackbar","image","setImage","date","setDate","Date","loading","user","error","url","process","env","REACT_APP_CREATE_BUG","JSON","parse","localStorage","getItem","REACT_APP_PROFILE","onChange","e","target","files","onSubmit","event","preventDefault","formData","FormData","append","id","_id","current","value","toLocaleDateString","name","REACT_APP_LOCALHOST","createBugBtn"],"sources":["/home/dev/Documents/bugzilla/server/client/src/pages/Bug/CreateBug.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useLocation, useNavigate } from \"react-router-dom\"\nimport { useSnackbar } from \"react-simple-snackbar\"\nimport Calendar from \"react-calendar\"\n\nimport { createBug } from \"../../redux/actions/userActions\"\n\nimport { Header, Spinner } from \"../../components\"\nimport { options } from \"../../helpers/options\"\n\nimport \"react-calendar/dist/Calendar.css\"\nimport styles from \"../../assets/scss/createbug.module.css\"\n\nfunction CreateBug() {\n  const titleRef = useRef()\n  const statusRef = useRef()\n  const typeRef = useRef()\n  const navigate = useNavigate()\n  const dispatch = useDispatch()\n  const { state } = useLocation()\n  const [openSnackbar] = useSnackbar(options)\n  const [image, setImage] = useState(\"\")\n  const [date, setDate] = useState(new Date())\n\n  // eslint-disable-next-line no-shadow\n  const loading = useSelector((state) => state.user.loading)\n  // eslint-disable-next-line no-shadow\n  const error = useSelector((state) => state.user.error)\n  const url = process.env.REACT_APP_CREATE_BUG\n  const user = JSON.parse(localStorage.getItem(process.env.REACT_APP_PROFILE))\n\n  const onChange = (e) => {\n    setImage(e.target.files[0])\n  }\n\n  const onSubmit = (event) => {\n    event.preventDefault()\n    const formData = new FormData()\n    formData.append(\"projectId\", state.id)\n    formData.append(\"creator\", user._id)\n    formData.append(\"title\", titleRef.current.value)\n    formData.append(\"status\", statusRef.current.value)\n    formData.append(\"type\", typeRef.current.value)\n    formData.append(\"deadline\", date.toLocaleDateString())\n    formData.append(\"file\", image)\n    dispatch(createBug(url, formData, setImage, navigate))\n  }\n  useEffect(() => {}, [image])\n  return (\n    <>\n      <Header />\n      {loading ? (\n        <Spinner />\n      ) : (\n        <div className=\"create-bug-wrapper \">\n          <form className=\"d-flex flex-column w-50 m-4\">\n            <h2>BUG</h2>\n            <input value={state.id} />\n            <p>Bug Creator</p>\n            <input value={user.name} disabled />\n            <p>Title</p>\n            <input ref={titleRef} required />\n            <p>Type</p>\n\n            <select ref={typeRef} required>\n              <option>Feature</option>\n              <option>Bug</option>\n            </select>\n\n            <p>Status</p>\n\n            <select ref={statusRef} required>\n              <option>New</option>\n              <option>Started</option>\n              {typeRef?.current?.value === \"Bug\" ? (\n                <option>Resolved</option>\n              ) : (\n                <option>Completed</option>\n              )}\n            </select>\n            <div>\n              <p>Deadline</p> <br />\n              <input value={date.toLocaleDateString()} disabled />\n              <Calendar\n                onChange={setDate}\n                value={date}\n                minDate={new Date()}\n                defaultView=\"month\"\n              />\n            </div>\n\n            <p>Attach Screenshot</p>\n            <input\n              accept=\".png, .gif\"\n              className=\"image-upload\"\n              type=\"file\"\n              name=\"image\"\n              onChange={onChange}\n              width=\"100px\"\n              height=\"100px\"\n            />\n\n            <img src={process.env.REACT_APP_LOCALHOST + image} alt=\"\" />\n\n            <button\n              type=\"button\"\n              className={styles.createBugBtn}\n              onClick={onSubmit}\n            >\n              Create Bug\n            </button>\n            {error}\n          </form>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default CreateBug\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}