{"ast":null,"code":"import _regeneratorRuntime from\"/home/dev/Documents/bugzilla/server/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/dev/Documents/bugzilla/server/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{SIGN_IN_USER,SIGN_UP_USER,SIGN_OUT_USER,AUTHORIZE_LOG_IN,CREATE_BUG,CREATE_PROJECT,EDIT_PROJECT}from\"./constants\";import{AUTHORIZED_ROUTE}from\"./constants\";import{LogoutApi,AuthLoginApi,AuthApi,CreateBugApi,CreateProjectApi,EditProjectApi}from\"../../api/api\";export var signUpUser=function signUpUser(url,data,setLoading,navigate){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return AuthApi(url,data);case 3:user=_context.sent;dispatch({type:SIGN_UP_USER,user:user});setLoading(false);navigate(\"/login\");_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(\"reducer\",_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signInUser=function signInUser(url,data,setLoading,setError,openSnackbar){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var user;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return AuthApi(url,data);case 3:user=_context2.sent;console.log(user);if(!user.response.status===404){localStorage.setItem(\"profile\",JSON.stringify(user.data.body));localStorage.setItem(\"token\",JSON.stringify(user.data.token));setLoading(false);openSnackbar(\"You have sucessfully Signed In\");dispatch({type:SIGN_IN_USER,payload:user});}else{setError(user.response.data.message);setLoading(false);openSnackbar(user.response.data.message);dispatch({type:SIGN_IN_USER,payload:user.response.data.message});}_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);openSnackbar(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var authorizeLogIn=function authorizeLogIn(url,data,openSnackbar){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var user,error;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return AuthLoginApi(url,data);case 3:user=_context3.sent;dispatch({type:AUTHORIZE_LOG_IN,payload:user});console.log(\"message\",user.data.message);if(user.data.message!==AUTHORIZED_ROUTE)openSnackbar(\"You are not Authorized\");_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);error=_context3.t0;case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var signOutUser=function signOutUser(url,setLoading,openSnackbar,navigate){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var error;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return LogoutApi(url);case 3:localStorage.removeItem(\"profile\");localStorage.removeItem(\"token\");dispatch({type:SIGN_OUT_USER});setLoading(false);openSnackbar(\"You have sucessfully Logged Out\");navigate(\"/login\");_context4.next=15;break;case 11:_context4.prev=11;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);error=_context4.t0;case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[0,11]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var createBug=function createBug(url,data,setLoading,setImage){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dispatch){var res,error;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;console.log(url,data);_context5.next=4;return CreateBugApi(url,data);case 4:res=_context5.sent;console.log(res);setImage(res.bug.image.path);dispatch({type:CREATE_BUG});setLoading(false);_context5.next=15;break;case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);console.log(_context5.t0);error=_context5.t0;case 15:case\"end\":return _context5.stop();}}},_callee5,null,[[0,11]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var createProject=function createProject(url,data,setLoading){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dispatch){var res,error;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log(data);_context6.prev=1;_context6.next=4;return CreateProjectApi(url,data);case 4:res=_context6.sent;console.log(\"Project\",data);dispatch({type:CREATE_PROJECT});setLoading(false);_context6.next=14;break;case 10:_context6.prev=10;_context6.t0=_context6[\"catch\"](1);console.log(_context6.t0);error=_context6.t0;case 14:case\"end\":return _context6.stop();}}},_callee6,null,[[1,10]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var editProject=function editProject(url,data,setLoading){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(dispatch){var res,error;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log(data);_context7.prev=1;_context7.next=4;return EditProjectApi(url,data);case 4:res=_context7.sent;console.log(\"Project\",res);dispatch({type:EDIT_PROJECT});setLoading(false);_context7.next=14;break;case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](1);console.log(_context7.t0);error=_context7.t0;case 14:case\"end\":return _context7.stop();}}},_callee7,null,[[1,10]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};","map":{"version":3,"names":["SIGN_IN_USER","SIGN_UP_USER","SIGN_OUT_USER","AUTHORIZE_LOG_IN","CREATE_BUG","CREATE_PROJECT","EDIT_PROJECT","AUTHORIZED_ROUTE","LogoutApi","AuthLoginApi","AuthApi","CreateBugApi","CreateProjectApi","EditProjectApi","signUpUser","url","data","setLoading","navigate","dispatch","user","type","console","log","signInUser","setError","openSnackbar","response","status","localStorage","setItem","JSON","stringify","body","token","payload","message","authorizeLogIn","error","signOutUser","removeItem","createBug","setImage","res","bug","image","path","createProject","editProject"],"sources":["/home/dev/Documents/bugzilla/server/client/src/redux/actions/userActions.js"],"sourcesContent":["import {\n  SIGN_IN_USER,\n  SIGN_UP_USER,\n  SIGN_OUT_USER,\n  AUTHORIZE_LOG_IN,\n  CREATE_BUG,\n  CREATE_PROJECT,\n  EDIT_PROJECT,\n} from \"./constants\"\nimport { AUTHORIZED_ROUTE } from \"./constants\"\nimport {\n  LogoutApi,\n  AuthLoginApi,\n  AuthApi,\n  CreateBugApi,\n  CreateProjectApi,\n  EditProjectApi,\n} from \"../../api/api\"\n\nexport const signUpUser =\n  (url, data, setLoading, navigate) => async (dispatch) => {\n    try {\n      const user = await AuthApi(url, data)\n\n      dispatch({ type: SIGN_UP_USER, user })\n      setLoading(false)\n      navigate(\"/login\")\n    } catch (err) {\n      console.log(\"reducer\", err)\n    }\n  }\n\nexport const signInUser =\n  (url, data, setLoading, setError, openSnackbar) => async (dispatch) => {\n    try {\n      let user = await AuthApi(url, data)\n      console.log(user)\n      if (!user.response.status === 404) {\n        localStorage.setItem(\"profile\", JSON.stringify(user.data.body))\n        localStorage.setItem(\"token\", JSON.stringify(user.data.token))\n        setLoading(false)\n        openSnackbar(\"You have sucessfully Signed In\")\n        dispatch({ type: SIGN_IN_USER, payload: user })\n      } else {\n        setError(user.response.data.message)\n        setLoading(false)\n        openSnackbar(user.response.data.message)\n        dispatch({ type: SIGN_IN_USER, payload: user.response.data.message })\n      }\n    } catch (err) {\n      openSnackbar(err)\n    }\n  }\n\nexport const authorizeLogIn = (url, data, openSnackbar) => async (dispatch) => {\n  try {\n    const user = await AuthLoginApi(url, data)\n    dispatch({ type: AUTHORIZE_LOG_IN, payload: user })\n    console.log(\"message\", user.data.message)\n    if (user.data.message !== AUTHORIZED_ROUTE)\n      openSnackbar(\"You are not Authorized\")\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n\nexport const signOutUser =\n  (url, setLoading, openSnackbar, navigate) => async (dispatch) => {\n    try {\n      await LogoutApi(url)\n      localStorage.removeItem(\"profile\")\n      localStorage.removeItem(\"token\")\n      dispatch({ type: SIGN_OUT_USER })\n      setLoading(false)\n      openSnackbar(\"You have sucessfully Logged Out\")\n      navigate(\"/login\")\n    } catch (err) {\n      console.log(err)\n      const error = err\n    }\n  }\n\nexport const createBug =\n  (url, data, setLoading, setImage) => async (dispatch) => {\n    try {\n      console.log(url, data)\n      const res = await CreateBugApi(url, data)\n      console.log(res)\n      setImage(res.bug.image.path)\n      dispatch({ type: CREATE_BUG })\n      setLoading(false)\n    } catch (err) {\n      console.log(err)\n      const error = err\n    }\n  }\n\nexport const createProject = (url, data, setLoading) => async (dispatch) => {\n  console.log(data)\n  try {\n    const res = await CreateProjectApi(url, data)\n    console.log(\"Project\", data)\n    dispatch({ type: CREATE_PROJECT })\n    setLoading(false)\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n\nexport const editProject = (url, data, setLoading) => async (dispatch) => {\n  console.log(data)\n  try {\n    const res = await EditProjectApi(url, data)\n    console.log(\"Project\", res)\n    dispatch({ type: EDIT_PROJECT })\n    setLoading(false)\n  } catch (err) {\n    console.log(err)\n    const error = err\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}