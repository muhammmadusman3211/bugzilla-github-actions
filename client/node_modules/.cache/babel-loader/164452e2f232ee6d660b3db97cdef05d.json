{"ast":null,"code":"var _jsxFileName = \"/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { signUpUser } from \"../redux/actions/userActions\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport { Header, Spinner } from \"../components\";\nimport { registrationSchema } from \"./schema\";\nimport styles from \"../assets/scss/registration.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Registrations = () => {\n  _s();\n\n  var _formik$errors;\n\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role: \"\"\n  });\n  const loading = useSelector(state => state.user.loading);\n  const error = useSelector(state => state.user.error);\n  const roleRef = useRef();\n  const [clicked, setClicked] = useState(false);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const url = process.env.REACT_APP_REGISTRATION_URL;\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      role: \"\"\n    },\n    validationSchema: registrationSchema,\n    onSubmit: values => {\n      setClicked(true);\n      setState({ ...state,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value\n      });\n    }\n  });\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, state, navigate));\n    }\n  }, [clicked, state, url, dispatch, navigate]);\n  return loading ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.registrationForm,\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"name\",\n        name: \"name\",\n        placeholder: \"Your Name\",\n        onChange: formik.handleChange,\n        value: formik.values.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), formik.errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        onChange: formik.handleChange,\n        value: formik.values.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), formik.errors.name && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: formik.handleChange,\n        value: formik.values.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), formik.errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"passwordConfirmation\",\n        placeholder: \"Password Confirmation\",\n        onChange: formik.handleChange,\n        value: formik.values.passwordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), formik.errors.passwordConfirmation && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.passwordConfirmation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"roles\",\n        ref: roleRef,\n        onChange: formik.handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Manager\",\n          children: \"Manager\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Developer\",\n          children: \"Developer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Qa\",\n          children: \"QA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), ((_formik$errors = formik.errors) === null || _formik$errors === void 0 ? void 0 : _formik$errors.role) && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: formik.errors.role\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.submitButton,\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Registrations, \"Le5nam+3DnJ6YRwisk6yP53Y3v4=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate, useFormik];\n});\n\n_c = Registrations;\nexport default Registrations;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registrations\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useDispatch","useSelector","signUpUser","useNavigate","useFormik","Header","Spinner","registrationSchema","styles","Registrations","state","setState","name","email","password","passwordConfirmation","role","loading","user","error","roleRef","clicked","setClicked","dispatch","navigate","url","process","env","REACT_APP_REGISTRATION_URL","formik","initialValues","validationSchema","onSubmit","values","current","value","registrationForm","handleSubmit","handleChange","errors","submitButton"],"sources":["/home/dev/Documents/bugzilla/server/client/src/auth/Registration.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { signUpUser } from \"../redux/actions/userActions\"\nimport { useNavigate } from \"react-router-dom\"\nimport { useFormik } from \"formik\"\nimport { Header, Spinner } from \"../components\"\nimport { registrationSchema } from \"./schema\"\n\nimport styles from \"../assets/scss/registration.module.css\"\n\nconst Registrations = () => {\n  const [state, setState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    role: \"\",\n  })\n\n  const loading = useSelector((state) => state.user.loading)\n  const error = useSelector((state) => state.user.error)\n\n  const roleRef = useRef()\n  const [clicked, setClicked] = useState(false)\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const url = process.env.REACT_APP_REGISTRATION_URL\n\n  const formik = useFormik({\n    initialValues: {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      role: \"\",\n    },\n    validationSchema: registrationSchema,\n    onSubmit: (values) => {\n      setClicked(true)\n      setState({\n        ...state,\n        name: values.name,\n        email: values.email,\n        password: values.password,\n        passwordConfirmation: values.passwordConfirmation,\n        role: roleRef.current.value,\n      })\n    },\n  })\n\n  useEffect(() => {\n    if (clicked) {\n      dispatch(signUpUser(url, state, navigate))\n    }\n  }, [clicked, state, url, dispatch, navigate])\n\n  return loading ? (\n    <Spinner />\n  ) : (\n    <>\n      <Header />\n      <form className={styles.registrationForm} onSubmit={formik.handleSubmit}>\n        <input\n          type=\"name\"\n          name=\"name\"\n          placeholder=\"Your Name\"\n          onChange={formik.handleChange}\n          value={formik.values.name}\n        />\n        {formik.errors.name && <p>{formik.errors.name}</p>}\n\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          onChange={formik.handleChange}\n          value={formik.values.email}\n        />\n\n        {formik.errors.name && <p>{formik.errors.email}</p>}\n\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          onChange={formik.handleChange}\n          value={formik.values.password}\n        />\n\n        {formik.errors.password && <p>{formik.errors.password}</p>}\n\n        <input\n          type=\"password\"\n          name=\"passwordConfirmation\"\n          placeholder=\"Password Confirmation\"\n          onChange={formik.handleChange}\n          value={formik.values.passwordConfirmation}\n        />\n\n        {formik.errors.passwordConfirmation && (\n          <p>{formik.errors.passwordConfirmation}</p>\n        )}\n\n        <select name=\"roles\" ref={roleRef} onChange={formik.handleChange}>\n          <option value=\"Manager\">Manager</option>\n          <option value=\"Developer\">Developer</option>\n          <option value=\"Qa\">QA</option>\n        </select>\n\n        {formik.errors?.role && <p>{formik.errors.role}</p>}\n\n        <button className={styles.submitButton} type=\"submit\">\n          Submit\n        </button>\n        {error}\n      </form>\n    </>\n  )\n}\n\nexport default Registrations\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}